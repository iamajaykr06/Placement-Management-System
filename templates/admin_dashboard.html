{% extends "base.html" %}
{% block title %}Admin Dashboard - Placement System{% endblock %}

{% block content %}
<div class="card">
    <div class="card-header">
        <h2>Admin Dashboard</h2>
        <p style="color: var(--text-secondary);">System administration and management</p>
    </div>

    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            {% for category, message in messages %}
                <div class="alert alert-{{ category }}">{{ message }}</div>
            {% endfor %}
        {% endif %}
    {% endwith %}

    <div class="stats">
        <div class="stat-card">
            <h3>{{ total_students|default(0) }}</h3>
            <p>Total Students</p>
        </div>
        <div class="stat-card" style="background: linear-gradient(135deg, #10b981 0%, #059669 100%);">
            <h3>{{ total_companies|default(0) }}</h3>
            <p>Total Companies</p>
        </div>
        <div class="stat-card" style="background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);">
            <h3>{{ total_jobs|default(0) }}</h3>
            <p>Total Jobs</p>
        </div>
        <div class="stat-card" style="background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%);">
            <h3>{{ total_applications|default(0) }}</h3>
            <p>Total Applications</p>
        </div>
    </div>

    <div class="stats" style="margin-top: 1.5rem;">
        <div class="stat-card" style="background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);">
            <h3>{{ active_jobs|default(0) }}</h3>
            <p>Active Jobs</p>
        </div>
        <div class="stat-card" style="background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);">
            <h3>{{ pending_applications|default(0) }}</h3>
            <p>Pending Applications</p>
        </div>
        <div class="stat-card" style="background: linear-gradient(135deg, #10b981 0%, #059669 100%);">
            <h3>{{ accepted_applications|default(0) }}</h3>
            <p>Accepted Applications</p>
        </div>
        <div class="stat-card" style="background: linear-gradient(135deg, #6366f1 0%, #4f46e5 100%);">
            <h3>{{ active_users|default(0) }}/{{ total_users|default(0) }}</h3>
            <p>Active/Total Users</p>
        </div>
    </div>

    <div class="grid grid-3" style="margin-top: 2rem;">
        <div class="card">
            <h3 style="color: var(--primary-color); margin-bottom: 1rem;">ðŸ“Š System Statistics</h3>
            <p style="color: var(--text-secondary); margin-bottom: 1rem;">
                View comprehensive system statistics and analytics
            </p>
            <div style="text-align: left; margin-top: 1rem;">
                <p><strong>Students:</strong> {{ total_students|default(0) }}</p>
                <p><strong>Companies:</strong> {{ total_companies|default(0) }}</p>
                <p><strong>Jobs:</strong> {{ total_jobs|default(0) }} ({{ active_jobs|default(0) }} active)</p>
                <p><strong>Applications:</strong> {{ total_applications|default(0) }}</p>
            </div>
        </div>

        <div class="card">
            <h3 style="color: var(--primary-color); margin-bottom: 1rem;">ðŸ‘¥ User Management</h3>
            <p style="color: var(--text-secondary); margin-bottom: 1rem;">
                Manage user accounts and permissions
            </p>
            <div style="text-align: left; margin-top: 1rem;">
                <p><strong>Total Users:</strong> {{ total_users|default(0) }}</p>
                <p><strong>Active Users:</strong> {{ active_users|default(0) }}</p>
                <p><strong>Inactive Users:</strong> {{ (total_users|default(0) - active_users|default(0)) }}</p>
            </div>
            <button class="btn btn-outline" style="margin-top: 1rem;" disabled>Coming Soon</button>
        </div>

        <div class="card">
            <h3 style="color: var(--primary-color); margin-bottom: 1rem;">ðŸ“ˆ Placement Analytics</h3>
            <p style="color: var(--text-secondary); margin-bottom: 1rem;">
                Track placement statistics and success rates
            </p>
            <div style="text-align: left; margin-top: 1rem;">
                <p><strong>Pending:</strong> {{ pending_applications|default(0) }}</p>
                <p><strong>Accepted:</strong> {{ accepted_applications|default(0) }}</p>
                {% if total_applications|default(0) > 0 %}
                <p><strong>Acceptance Rate:</strong> {{ ((accepted_applications|default(0) / total_applications|default(1)) * 100)|round(1) }}%</p>
                {% endif %}
            </div>
            <button class="btn btn-outline" style="margin-top: 1rem;" disabled>Coming Soon</button>
        </div>
    </div>
</div>
{% endblock %}
